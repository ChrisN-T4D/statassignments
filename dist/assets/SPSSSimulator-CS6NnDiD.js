import{B as W}from"./BaseSimulator-BPP_QgrQ.js";import{_ as J,r as b,c as y,a as K,o as s,w as Q,b as i,d as n,e as k,F as p,f as v,n as _,t as h,h as $,g as X}from"./index-ByDZiPpy.js";const Z={class:"spss-interface"},ee={class:"menu-bar"},te=["onClick"],ae=["onClick"],le={key:0,class:"submenu-arrow"},se=["onClick"],ne={class:"data-view"},ie={class:"spreadsheet"},oe={class:"spreadsheet-header"},ue={class:"cell row-number"},re={key:3,class:"selection-summary"},de={__name:"SPSSSimulator",props:{task:{type:Object,required:!0}},emits:["correct","incorrect"],setup(C,{expose:G,emit:L}){const o=C,O=L,u=b(null),r=b(null),x=b({}),P=b({}),d=b([]),m=b(!1),S=b(null),w=[{id:"file",label:"File"},{id:"edit",label:"Edit"},{id:"view",label:"View"},{id:"data",label:"Data"},{id:"transform",label:"Transform"},{id:"analyze",label:"Analyze"},{id:"graphs",label:"Graphs"}],D={file:[{id:"new",label:"New"},{id:"open",label:"Open Data..."},{id:"save",label:"Save"},{id:"export",label:"Export",disabled:!0}],edit:[{id:"undo",label:"Undo"},{id:"cut",label:"Cut"},{id:"copy",label:"Copy"},{id:"paste",label:"Paste"}],view:[{id:"status",label:"Status Bar"},{id:"toolbars",label:"Toolbars"}],data:[{id:"define",label:"Define Variable Properties..."},{id:"sort",label:"Sort Cases..."},{id:"merge",label:"Merge Files"},{id:"select",label:"Select Cases..."}],transform:[{id:"compute",label:"Compute Variable..."},{id:"recode",label:"Recode into Different Variables..."},{id:"count",label:"Count Values within Cases..."}],analyze:[{id:"descriptive",label:"Descriptive Statistics",submenu:[{id:"frequencies",label:"Frequencies..."},{id:"descriptives",label:"Descriptives..."},{id:"explore",label:"Explore..."},{id:"crosstabs",label:"Crosstabs..."}]},{id:"compare",label:"Compare Means",submenu:[{id:"means",label:"Means..."},{id:"onesample_t",label:"One-Sample T Test..."},{id:"independent_t",label:"Independent-Samples T Test..."},{id:"paired_t",label:"Paired-Samples T Test..."},{id:"oneway",label:"One-Way ANOVA..."}]},{id:"correlate",label:"Correlate",submenu:[{id:"bivariate",label:"Bivariate..."},{id:"partial",label:"Partial..."}]},{id:"regression",label:"Regression",submenu:[{id:"linear",label:"Linear..."},{id:"logistic",label:"Binary Logistic..."}]},{id:"nonparametric",label:"Nonparametric Tests",submenu:[{id:"onesample_np",label:"One Sample..."},{id:"independent_np",label:"Independent Samples..."},{id:"related_np",label:"Related Samples..."}]}],graphs:[{id:"chartbuilder",label:"Chart Builder..."},{id:"histogram",label:"Legacy Dialogs",submenu:[{id:"bar",label:"Bar..."},{id:"hist",label:"Histogram..."},{id:"scatter",label:"Scatter/Dot..."},{id:"boxplot",label:"Boxplot..."}]}]},M=y(()=>d.value.length>0),A=y(()=>o.task.sampleData?.columns||["Age","Score","Group"]),N=y(()=>o.task.sampleData?.rows?o.task.sampleData.rows.slice(0,6):[{Age:25,Score:78,Group:1},{Age:32,Score:85,Group:1},{Age:28,Score:72,Group:2},{Age:35,Score:91,Group:2},{Age:29,Score:80,Group:1},{Age:31,Score:88,Group:2}]);function H(t){return D[t]||[]}function z(t){if(u.value===t)f();else{u.value=t,r.value=null;const a=w.findIndex(e=>e.id===t);x.value={left:`${a*60}px`}}}function f(){u.value=null,r.value=null}function E(t,a){a.submenu?(r.value={parentMenu:t,parentOption:a.id,items:a.submenu},P.value={left:"180px",top:"0"}):(B({menu:t,option:a.id}),f())}function F(t){B({menu:r.value.parentMenu,option:r.value.parentOption,subOption:t.id}),f()}function B(t){d.value.some(e=>e.menu===t.menu&&e.option===t.option&&e.subOption===t.subOption)||d.value.push(t)}function V(t,a,e=null){return d.value.some(l=>e?l.menu===t&&l.option===e&&l.subOption===a:l.menu===t&&l.option===a)}function R(t){return!m.value||!o.task.highlightPath?!1:o.task.highlightPath.some(a=>a.menu===t)}function q(t,a){return!m.value||!o.task.highlightPath?!1:o.task.highlightPath.some(e=>e.menu===t&&e.option===a)}function I(t){return!m.value||!o.task.highlightPath?!1:o.task.highlightPath.some(a=>a.subOption===t)}function Y(t){const a=w.find(g=>g.id===t.menu)?.label||t.menu,l=(D[t.menu]||[]).find(g=>g.id===t.option),c=l?.label||t.option;if(t.subOption&&l?.submenu){const g=l.submenu.find(U=>U.id===t.subOption)?.label||t.subOption;return`${a} → ${c} → ${g}`}return`${a} → ${c}`}function j(){const t=o.task.expectedSelections||[],a=t.every(l=>d.value.some(c=>c.menu===l.menu&&c.option===l.option&&(l.subOption?c.subOption===l.subOption:!0))),e=d.value.length===t.length;a&&e?(S.value={type:"correct",message:o.task.successMessage||"Correct! You found the right menu path in SPSS."},O("correct")):(S.value={type:"incorrect",message:o.task.failureMessage||"Not quite. Think about which statistical test matches this scenario."},O("incorrect"))}function T(){d.value=[],S.value=null,m.value=!1,f()}return G({reset:T}),(t,a)=>(s(),K(W,{software:"spss",task:C.task,"can-check":M.value,"show-hint":m.value,"show-reset":M.value,feedback:S.value,onCheckAnswer:j,onReset:T,onShowHint:a[0]||(a[0]=e=>m.value=!0)},{default:Q(()=>[i("div",Z,[i("div",ee,[(s(),n(p,null,v(w,e=>i("div",{key:e.id,class:_(["menu-item",{active:u.value===e.id,highlighted:R(e.id)}]),onClick:l=>z(e.id)},h(e.label),11,te)),64))]),u.value?(s(),n("div",{key:0,class:"dropdown-menu",style:$(x.value)},[(s(!0),n(p,null,v(H(u.value),e=>(s(),n("div",{key:e.id,class:_(["dropdown-item",{selected:V(u.value,e.id),highlighted:q(u.value,e.id),"has-submenu":e.submenu,disabled:e.disabled}]),onClick:l=>!e.disabled&&E(u.value,e)},[X(h(e.label)+" ",1),e.submenu?(s(),n("span",le,"▶")):k("",!0)],10,ae))),128))],4)):k("",!0),r.value?(s(),n("div",{key:1,class:"submenu",style:$(P.value)},[(s(!0),n(p,null,v(r.value.items,e=>(s(),n("div",{key:e.id,class:_(["dropdown-item",{selected:V(r.value.parentMenu,e.id,r.value.parentOption),highlighted:I(e.id)}]),onClick:l=>F(e)},h(e.label),11,se))),128))],4)):k("",!0),u.value?(s(),n("div",{key:2,class:"menu-overlay",onClick:f})):k("",!0),i("div",ne,[a[2]||(a[2]=i("div",{class:"view-tabs"},[i("button",{class:"view-tab active"},"Data View"),i("button",{class:"view-tab"},"Variable View")],-1)),i("div",ie,[i("div",oe,[a[1]||(a[1]=i("div",{class:"cell row-number-header"},null,-1)),(s(!0),n(p,null,v(A.value,e=>(s(),n("div",{class:"cell header-cell",key:e},h(e),1))),128))]),(s(!0),n(p,null,v(N.value,(e,l)=>(s(),n("div",{class:"spreadsheet-row",key:l},[i("div",ue,h(l+1),1),(s(!0),n(p,null,v(A.value,c=>(s(),n("div",{class:"cell",key:c},h(e[c]),1))),128))]))),128))])]),d.value.length>0?(s(),n("div",re,[a[3]||(a[3]=i("strong",null,"Your selections:",-1)),i("ul",null,[(s(!0),n(p,null,v(d.value,(e,l)=>(s(),n("li",{key:l},h(Y(e)),1))),128))])])):k("",!0)])]),_:1},8,["task","can-check","show-hint","show-reset","feedback"]))}},pe=J(de,[["__scopeId","data-v-271a3f75"]]);export{pe as default};
